# See: https://github.com/postgres/postgres/commit/1c0cf52b39ca3a9a79661129cff918dc000a55eb

diff -u -r config/c-compiler.m4 config/c-compiler.m4
--- config/c-compiler.m4	2015-10-05 21:19:44.000000000 +0200
+++ config/c-compiler.m4	2025-06-01 17:10:51.000000000 +0200
@@ -84,8 +84,10 @@
     return 0;
   return 1;
 }
+
+int
 main() {
-  exit(! does_int64_work());
+  return (! does_int64_work());
 }],
 [Ac_cachevar=yes],
 [Ac_cachevar=no],
@@ -166,4 +168,3 @@
               [LDFLAGS="$pgac_save_LDFLAGS"
                AC_MSG_RESULT(assuming no)])
 ])# PGAC_PROG_CC_LDFLAGS_OPT
-
diff -u -r config/c-library.m4 config/c-library.m4
--- config/c-library.m4	2015-10-05 21:19:44.000000000 +0200
+++ config/c-library.m4	2025-06-01 17:11:10.000000000 +0200
@@ -250,8 +250,10 @@
     return 0;			/* either multiply or snprintf is busted */
   return 1;
 }
+
+int
 main() {
-  exit(! does_int64_snprintf_work());
+  return (! does_int64_snprintf_work());
 }],
 [pgac_cv_snprintf_long_long_int_format=$pgac_format; break],
 [],
diff -u -r configure configure
--- configure	2015-10-05 21:19:44.000000000 +0200
+++ configure	2025-06-01 17:11:27.000000000 +0200
@@ -23848,8 +23848,10 @@
     return 0;
   return 1;
 }
+
+int
 main() {
-  exit(! does_int64_work());
+  return (! does_int64_work());
 }
 _ACEOF
 rm -f conftest$ac_exeext
@@ -23985,8 +23987,10 @@
     return 0;
   return 1;
 }
+
+int
 main() {
-  exit(! does_int64_work());
+  return (! does_int64_work());
 }
 _ACEOF
 rm -f conftest$ac_exeext
@@ -24143,8 +24147,10 @@
     return 0;			/* either multiply or snprintf is busted */
   return 1;
 }
+
+int
 main() {
-  exit(! does_int64_snprintf_work());
+  return (! does_int64_snprintf_work());
 }
 _ACEOF
 rm -f conftest$ac_exeext
