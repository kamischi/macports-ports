# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           muniversal 1.0

epoch               1
github.setup        openvenues libpostal 1.1.4 v
github.tarball_from archive
revision            0
checksums           rmd160  a1665188182d239f255c953e44fa5e109a2e772c \
                    sha256  41ad2cd20261e6498f1843c8d21cd737470d17e975deb6ea2a5d1517880729d3 \
                    size    5610903

categories          textproc
maintainers         {amake @amake} openmaintainer
license             MIT

description         A C library for parsing/normalizing street addresses around the world
long_description    {*}${description}. Powered by statistical NLP and open geo data.

# No configure script in tarball.
use_autoreconf      yes
autoreconf.cmd      ./bootstrap.sh

depends_run-append  port:libpostal-data

depends_build       port:autoconf \
                    port:automake \
                    port:libtool \
                    port:pkgconfig

configure.args-append \
    --datadir=${prefix}/share \
    --disable-data-download

set merger_configure_args(arm64)    --disable-sse2
set merger_configure_args(ppc)      --disable-sse2
set merger_configure_args(ppc64)    --disable-sse2

if {(!${universal_possible} || ![variant_isset universal]) && [info exists merger_configure_args(${configure.build_arch})]} {
    configure.args-append   $merger_configure_args(${configure.build_arch})
}

github.livecheck.regex {([0-9.]+)}
